<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>File Manager: src/ui.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">File Manager
   </div>
   <div id="projectbrief">UNIX-style file manager that uses a file as a partition</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ui.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main functions to be used by the fs users.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;io.h&gt;</code><br />
<code>#include &lt;<a class="el" href="fs_8h_source.html">fs.h</a>&gt;</code><br />
<code>#include &lt;devutils.h&gt;</code><br />
<code>#include &lt;<a class="el" href="disk_8h_source.html">disk.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="dirent_8h_source.html">dirent.h</a>&gt;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae8f503215ed97784096bcc0970ac57f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#ae8f503215ed97784096bcc0970ac57f0">initfs</a> (char *filename, size_t size, int format)</td></tr>
<tr class="memdesc:ae8f503215ed97784096bcc0970ac57f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the system  <a href="#ae8f503215ed97784096bcc0970ac57f0">More...</a><br /></td></tr>
<tr class="separator:ae8f503215ed97784096bcc0970ac57f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4938b45089b8927e185c718f644d2a57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a4938b45089b8927e185c718f644d2a57">getParentInode</a> (const char *filepath, uint32_t *parentino)</td></tr>
<tr class="memdesc:a4938b45089b8927e185c718f644d2a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">a utility function to get the inode of the parent  <a href="#a4938b45089b8927e185c718f644d2a57">More...</a><br /></td></tr>
<tr class="separator:a4938b45089b8927e185c718f644d2a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0952e46234173b4a3ec294bb94bbc8f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDIR__.html">DIR_</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a0952e46234173b4a3ec294bb94bbc8f6">opendir_</a> (const char *dirname, int creat, uint16_t perms)</td></tr>
<tr class="memdesc:a0952e46234173b4a3ec294bb94bbc8f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">opens a directory  <a href="#a0952e46234173b4a3ec294bb94bbc8f6">More...</a><br /></td></tr>
<tr class="separator:a0952e46234173b4a3ec294bb94bbc8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af789a22b4c2141046ef21d51d54d135c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdirent.html">dirent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#af789a22b4c2141046ef21d51d54d135c">readdir_</a> (<a class="el" href="structDIR__.html">DIR_</a> *dir)</td></tr>
<tr class="memdesc:af789a22b4c2141046ef21d51d54d135c"><td class="mdescLeft">&#160;</td><td class="mdescRight">read an entry from a DIR_* pointer  <a href="#af789a22b4c2141046ef21d51d54d135c">More...</a><br /></td></tr>
<tr class="separator:af789a22b4c2141046ef21d51d54d135c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7d3c93662c7604bd19766074399452"><td class="memItemLeft" align="right" valign="top"><a id="a9b7d3c93662c7604bd19766074399452"></a>
struct <a class="el" href="structfs__inode.html">fs_inode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a9b7d3c93662c7604bd19766074399452">getInode</a> (const char *path)</td></tr>
<tr class="memdesc:a9b7d3c93662c7604bd19766074399452"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the inode structure from the path <br /></td></tr>
<tr class="separator:a9b7d3c93662c7604bd19766074399452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fa284659138258baa3f26efe94ea83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#ad1fa284659138258baa3f26efe94ea83">closedir_</a> (<a class="el" href="structDIR__.html">DIR_</a> *dir)</td></tr>
<tr class="memdesc:ad1fa284659138258baa3f26efe94ea83"><td class="mdescLeft">&#160;</td><td class="mdescRight">close a directory pointer  <a href="#ad1fa284659138258baa3f26efe94ea83">More...</a><br /></td></tr>
<tr class="separator:ad1fa284659138258baa3f26efe94ea83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae316065a42161b98b60cf3723a59d643"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#ae316065a42161b98b60cf3723a59d643">lsl_</a> (const char *direct)</td></tr>
<tr class="memdesc:ae316065a42161b98b60cf3723a59d643"><td class="mdescLeft">&#160;</td><td class="mdescRight">list the files in a directory in a long format  <a href="#ae316065a42161b98b60cf3723a59d643">More...</a><br /></td></tr>
<tr class="separator:ae316065a42161b98b60cf3723a59d643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c32d3a064f997ed0759fd8f7deb07f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a03c32d3a064f997ed0759fd8f7deb07f">ls_</a> (const char *direct)</td></tr>
<tr class="memdesc:a03c32d3a064f997ed0759fd8f7deb07f"><td class="mdescLeft">&#160;</td><td class="mdescRight">list the files in a directory  <a href="#a03c32d3a064f997ed0759fd8f7deb07f">More...</a><br /></td></tr>
<tr class="separator:a03c32d3a064f997ed0759fd8f7deb07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06dad8a71ddc0ec9b7350b04b604ed1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#aa06dad8a71ddc0ec9b7350b04b604ed1">open_</a> (const char *filename, int creat, uint16_t perms)</td></tr>
<tr class="memdesc:aa06dad8a71ddc0ec9b7350b04b604ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">opens a file  <a href="#aa06dad8a71ddc0ec9b7350b04b604ed1">More...</a><br /></td></tr>
<tr class="separator:aa06dad8a71ddc0ec9b7350b04b604ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b781b4c41e62c5962c6ec63fe9c7509"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a8b781b4c41e62c5962c6ec63fe9c7509">close_</a> (int fd)</td></tr>
<tr class="memdesc:a8b781b4c41e62c5962c6ec63fe9c7509"><td class="mdescLeft">&#160;</td><td class="mdescRight">closes an open file descritor  <a href="#a8b781b4c41e62c5962c6ec63fe9c7509">More...</a><br /></td></tr>
<tr class="separator:a8b781b4c41e62c5962c6ec63fe9c7509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97c8e18c501f17c437838c21e03bf65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#ac97c8e18c501f17c437838c21e03bf65">lseek_</a> (int fd, uint32_t newoff)</td></tr>
<tr class="memdesc:ac97c8e18c501f17c437838c21e03bf65"><td class="mdescLeft">&#160;</td><td class="mdescRight">changes the current pointer for a file  <a href="#ac97c8e18c501f17c437838c21e03bf65">More...</a><br /></td></tr>
<tr class="separator:ac97c8e18c501f17c437838c21e03bf65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797f6df3a03b5664bab9cbf72c01773e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a797f6df3a03b5664bab9cbf72c01773e">write_</a> (int fd, void *data, int size)</td></tr>
<tr class="memdesc:a797f6df3a03b5664bab9cbf72c01773e"><td class="mdescLeft">&#160;</td><td class="mdescRight">write data to a file  <a href="#a797f6df3a03b5664bab9cbf72c01773e">More...</a><br /></td></tr>
<tr class="separator:a797f6df3a03b5664bab9cbf72c01773e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32933993704ed801d63cc92d9d6085ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a32933993704ed801d63cc92d9d6085ac">read_</a> (int fd, void *data, int size)</td></tr>
<tr class="memdesc:a32933993704ed801d63cc92d9d6085ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads data from file  <a href="#a32933993704ed801d63cc92d9d6085ac">More...</a><br /></td></tr>
<tr class="separator:a32933993704ed801d63cc92d9d6085ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712ddc5bf52e97dbc808ec7c2540a57b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a712ddc5bf52e97dbc808ec7c2540a57b">rm_</a> (const char *filename)</td></tr>
<tr class="memdesc:a712ddc5bf52e97dbc808ec7c2540a57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">removes a file  <a href="#a712ddc5bf52e97dbc808ec7c2540a57b">More...</a><br /></td></tr>
<tr class="separator:a712ddc5bf52e97dbc808ec7c2540a57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc87ccf1c3a7840dbbcd0a5876fa2641"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#afc87ccf1c3a7840dbbcd0a5876fa2641">rmdir_</a> (const char *filename, int recursive)</td></tr>
<tr class="memdesc:afc87ccf1c3a7840dbbcd0a5876fa2641"><td class="mdescLeft">&#160;</td><td class="mdescRight">attempts to remove a directory  <a href="#afc87ccf1c3a7840dbbcd0a5876fa2641">More...</a><br /></td></tr>
<tr class="separator:afc87ccf1c3a7840dbbcd0a5876fa2641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba83fc62d859315269921ae2dd7c1d1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#aba83fc62d859315269921ae2dd7c1d1b">cp_</a> (const char *src, const char *dest)</td></tr>
<tr class="memdesc:aba83fc62d859315269921ae2dd7c1d1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">copies a file from src to dest  <a href="#aba83fc62d859315269921ae2dd7c1d1b">More...</a><br /></td></tr>
<tr class="separator:aba83fc62d859315269921ae2dd7c1d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1f17a9fa2e5b0facff85c46c3b370a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#adf1f17a9fa2e5b0facff85c46c3b370a">ln_</a> (const char *src, const char *dest)</td></tr>
<tr class="memdesc:adf1f17a9fa2e5b0facff85c46c3b370a"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates a hard link of src in dest  <a href="#adf1f17a9fa2e5b0facff85c46c3b370a">More...</a><br /></td></tr>
<tr class="separator:adf1f17a9fa2e5b0facff85c46c3b370a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51a5cff11be1a0db5dee73fa97cba0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#ac51a5cff11be1a0db5dee73fa97cba0e">mv_</a> (const char *src, const char *dest)</td></tr>
<tr class="memdesc:ac51a5cff11be1a0db5dee73fa97cba0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">move a file from src to dest  <a href="#ac51a5cff11be1a0db5dee73fa97cba0e">More...</a><br /></td></tr>
<tr class="separator:ac51a5cff11be1a0db5dee73fa97cba0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74db267490c84cd193ea1e1befe51e50"><td class="memItemLeft" align="right" valign="top"><a id="a74db267490c84cd193ea1e1befe51e50"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ui_8c.html#a74db267490c84cd193ea1e1befe51e50">closefs</a> ()</td></tr>
<tr class="memdesc:a74db267490c84cd193ea1e1befe51e50"><td class="mdescLeft">&#160;</td><td class="mdescRight">closes the virtual filesystem <br /></td></tr>
<tr class="separator:a74db267490c84cd193ea1e1befe51e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7eb88ecf64607ec00f56850d2dfbbcea"><td class="memItemLeft" align="right" valign="top"><a id="a7eb88ecf64607ec00f56850d2dfbbcea"></a>
struct <a class="el" href="structfs__filesyst.html">fs_filesyst</a>&#160;</td><td class="memItemRight" valign="bottom"><b>fs</b></td></tr>
<tr class="separator:a7eb88ecf64607ec00f56850d2dfbbcea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d446c6c3c385164a0ad1ace9bb1613b"><td class="memItemLeft" align="right" valign="top"><a id="a3d446c6c3c385164a0ad1ace9bb1613b"></a>
struct <a class="el" href="structfs__super__block.html">fs_super_block</a>&#160;</td><td class="memItemRight" valign="bottom"><b>super</b></td></tr>
<tr class="separator:a3d446c6c3c385164a0ad1ace9bb1613b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main functions to be used by the fs users. </p>
<dl class="section author"><dt>Author</dt><dd>ABDELMOUMENE Djahid </dd>
<dd>
AYAD Ishak</dd></dl>
<p>contains utility functions such as formatting the fs and opening and writing to files and so on. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8b781b4c41e62c5962c6ec63fe9c7509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b781b4c41e62c5962c6ec63fe9c7509">&#9670;&nbsp;</a></span>close_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int close_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>closes an open file descritor </p>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="ad1fa284659138258baa3f26efe94ea83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1fa284659138258baa3f26efe94ea83">&#9670;&nbsp;</a></span>closedir_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int closedir_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDIR__.html">DIR_</a> *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close a directory pointer </p>
<p>called after opendir_ to free the DIR_* pointer and its components </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="aba83fc62d859315269921ae2dd7c1d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba83fc62d859315269921ae2dd7c1d1b">&#9670;&nbsp;</a></span>cp_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cp_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copies a file from src to dest </p>
<p>copies any file or directory from src to dest Note that you have to specify the file name of the destination e.g. cp_("/dir/file", "/") won't work because the destination doesn't have a specified name like cp_("/dir/file", "/file") </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="a4938b45089b8927e185c718f644d2a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4938b45089b8927e185c718f644d2a57">&#9670;&nbsp;</a></span>getParentInode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getParentInode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>parentino</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a utility function to get the inode of the parent </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parentino</td><td>the pointer to put the inode in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="ae8f503215ed97784096bcc0970ac57f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f503215ed97784096bcc0970ac57f0">&#9670;&nbsp;</a></span>initfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initfs </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes the system </p>
<p>fills the global variables fs and super </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>the filename of the fs </td></tr>
    <tr><td class="paramname">size</td><td>the size of the fs </td></tr>
    <tr><td class="paramname">format</td><td>a boolean of wether to format the virtual partition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="adf1f17a9fa2e5b0facff85c46c3b370a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf1f17a9fa2e5b0facff85c46c3b370a">&#9670;&nbsp;</a></span>ln_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ln_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>creates a hard link of src in dest </p>
<p>creates a hard link of the correspoding inode of any file or directory from src in dest. Note that you have to specify the file name of the destination e.g. ln_("/dir/file", "/") won't work because the destination doesn't have a specified name like ln_("/dir/file", "/file") </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="a03c32d3a064f997ed0759fd8f7deb07f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c32d3a064f997ed0759fd8f7deb07f">&#9670;&nbsp;</a></span>ls_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ls_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>direct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>list the files in a directory </p>
<p>lists all the files in a directory </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">direct</td><td>the <em>absolute</em> path from the root to the directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="ac97c8e18c501f17c437838c21e03bf65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97c8e18c501f17c437838c21e03bf65">&#9670;&nbsp;</a></span>lseek_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lseek_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>newoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>changes the current pointer for a file </p>
<p>changes the offset of the file descriptor to newoff </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="ae316065a42161b98b60cf3723a59d643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae316065a42161b98b60cf3723a59d643">&#9670;&nbsp;</a></span>lsl_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lsl_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>direct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>list the files in a directory in a long format </p>
<p>lists all the files in a directory in a long format </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">direct</td><td>the <em>absolute</em> path from the root to the directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="ac51a5cff11be1a0db5dee73fa97cba0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac51a5cff11be1a0db5dee73fa97cba0e">&#9670;&nbsp;</a></span>mv_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mv_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>move a file from src to dest </p>
<p>moves any file or directory from src to dest Note that you have to specify the file name of the destination e.g. mv_("/dir/file", "/") won't work because the destination doesn't have a specified name like mv_("/dir/file", "/file") </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="aa06dad8a71ddc0ec9b7350b04b604ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06dad8a71ddc0ec9b7350b04b604ed1">&#9670;&nbsp;</a></span>open_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>creat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>opens a file </p>
<p>opens the file with pathname <em>filename</em>, or creates it if the <em>creat</em> parameter is set to not null, the <em>perms</em> are set to the created file in that case. </p><dl class="section return"><dt>Returns</dt><dd>the opened file's descriptor fd, or -1 in case of an error </dd></dl>

</div>
</div>
<a id="a0952e46234173b4a3ec294bb94bbc8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0952e46234173b4a3ec294bb94bbc8f6">&#9670;&nbsp;</a></span>opendir_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDIR__.html">DIR_</a>* opendir_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>creat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>opens a directory </p>
<p>opens the directory with pathname <em>dirname</em>, or creates it if the <em>creat</em> parameter is set to not null, the <em>perms</em> are set to the created directory in that case. </p><dl class="section return"><dt>Returns</dt><dd>the opened directory pointer, or NULL in case of an error </dd></dl>

</div>
</div>
<a id="a32933993704ed801d63cc92d9d6085ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32933993704ed801d63cc92d9d6085ac">&#9670;&nbsp;</a></span>read_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads data from file </p>
<p>reads <em>size</em> bytes from the corresponding file for the <em>fd</em> and puts the result in the <em>data</em> pointer </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="af789a22b4c2141046ef21d51d54d135c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af789a22b4c2141046ef21d51d54d135c">&#9670;&nbsp;</a></span>readdir_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdirent.html">dirent</a>* readdir_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDIR__.html">DIR_</a> *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read an entry from a DIR_* pointer </p>
<p>reads an entry from a directory (after opening it with opendir_ which returns the DIR_* pointer) </p><dl class="section return"><dt>Returns</dt><dd>a pointer to the current directory entry, or NULL in case the end is reached </dd></dl>

</div>
</div>
<a id="a712ddc5bf52e97dbc808ec7c2540a57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a712ddc5bf52e97dbc808ec7c2540a57b">&#9670;&nbsp;</a></span>rm_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rm_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>removes a file </p>
<p>removes files from their path, note that the inode may not get deleted until all hard links to the inode number have been deleted </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="afc87ccf1c3a7840dbbcd0a5876fa2641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc87ccf1c3a7840dbbcd0a5876fa2641">&#9670;&nbsp;</a></span>rmdir_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rmdir_ </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recursive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>attempts to remove a directory </p>
<p>attempts to remove the directory from its path, if it doesn't contain it gets deleted, if it does, it gets deleted if the recursive boolean is set to no null else it doesn't. Note that the inode may not get deleted until all hard links to the inode number have been deleted </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
<a id="a797f6df3a03b5664bab9cbf72c01773e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797f6df3a03b5664bab9cbf72c01773e">&#9670;&nbsp;</a></span>write_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write data to a file </p>
<p>writes <em>size</em> bytes from the <em>data</em> pointer into the corresponding file for the <em>fd</em>. </p><dl class="section return"><dt>Returns</dt><dd>0 in case of success or -1 in case of an error </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
